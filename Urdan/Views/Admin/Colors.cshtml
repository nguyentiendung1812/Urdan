@model List<Color>;
@{
  ViewBag.Title = "Colors";
}

<div class="container pt-4">
  <h1>@ViewBag.Title</h1>
  <a asp-action="CreateColor" class="btn btn-primary mb-2">Create new</a>
  <form asp-action="Colors" method="get">
    <div class="form-group">
      <label for="search">
        Find by product id:
      </label>
      <input type="text" name="search" id="search" class="form-control" value="@ViewBag.Search" style="width: auto;display: inline-block;" />
      <input type="submit" value="Search" class="btn btn-dark" /> |
      <a asp-action="Colors">Clear</a>
    </div>
  </form>
  <hr />
  <div class="row pt-2">
    <table class="table table-light table-hover">
      <thead>
        <tr>
          <th scope="col">
            @Html.DisplayNameFor(model => model.First().Id)
          </th>
          <th scope="col">
            @Html.DisplayNameFor(model => model.First().Name)
          </th>
          <th scope="col">
            @Html.DisplayNameFor(model => model.First().ProductId)
          </th>
          <th scope="col">
            @Html.DisplayNameFor(model => model.First().Product)
          </th>
          <th scope="col">
            Action
          </th>
        </tr>
      </thead>
      <tbody>
        @foreach (var item in Model)
        {
          <tr>
            <td>@item.Id</td>
            <td>@item.Name</td>
            <td>@item.ProductId</td>
            <td>@item.Product?.Name</td>
            <td>
              <div class="d-flex">
                <a asp-action="EditColor" asp-route-id="@item.Id" class="btn btn-warning me-3">Edit</a>
                <button type="button" id="@item.Id" onclick="handleDeleteColor(@item.Id)" class="btn btn-danger">
                  Delete
                </button>
              </div>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>